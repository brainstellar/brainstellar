<!DOCTYPE html>
<!--page Coded by Varun Seth, downloaded from: http://brainstellar.com/puzzles/medium/120 -->
<html >
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">



<LINK href="/sizeless.css" rel="stylesheet" type="text/css">

<link rel="icon"
      type="image/gif"
      href="/favicon.gif" >

<link href="/favicon.gif"
	rel="shortcut icon"
	type="image/gif" >
<script type="text/javascript">
  function unhide(divID, pushID) {
    var item = document.getElementById(divID);
    if (item) {
      item.className=(item.className=='hidden')?'unhidden':'hidden';
    }
      pushID.className=(pushID.className=='push')?'pushed':'push';
  }


  function unhideandfb(divID, divFB ,pushID){

      var item = document.getElementById(divID);
    if (item) {
      item.className=(item.className=='hidden')?'unhidden':'hidden';
    }
      pushID.className=(pushID.className=='push')?'pushed':'push';
  document.getElementById( divFB).style.zIndex=-document.getElementById(divFB ).style.zIndex ;
  }


   function replaceContentInContainer( frameObj, matchClass, content) {
    var elems = frameObj.contentWindow.document.getElementsByTagName('*'), i;
	alert('asd');
    for (i in elems) {
        if((' ' + elems[i].className + ' ').indexOf(' ' + matchClass + ' ')
                > -1) {
            elems[i].innerHTML = content;
        }
    }
}



    function play2() {

	var iframes = document.getElementsByTagName('iframe');

	for(i=0; i< iframes.length; i++)
	{
      iframes[i].style.width = "300px";
	  iframes[i].style.background = "red";
	  }
	  i=iframes.length-1;
	  var foo = iframes[i].document.getElmentById('feedback_1eD3wVinaW8BFJjqN');
	  alert('hi');
    replaceContentInContainer( iframes[i], "fbFooterBorder" ,"hello");

    }


function play1(){

 document.getElementById("likehider").style.zIndex="-1";

}



  function disablefbwidget() { //cookie made for 1 year to disablefacebook
 var d = new Date();
    d.setTime(d.getTime() + (365*24*60*60*1000));
    document.cookie = "fbwidget=false; expires=" + d.toGMTString();
//	alert(getCookie("fbwidget"));
	location.reload();
  }
   function enablefbwidget() { //cookie deleted
   var d = new Date();
    d.setTime(d.getTime() + (365*24*60*60*1000));
	document.cookie = "fbwidget=true; expires=" + d.toGMTString();//fbwidget=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
	location.reload();
  }
</script>
 <meta property="fb:app_id" content="685807501512723"/>
<meta property="og:type"            content="website" />
<meta property="og:url"             content="http://brainstellar.com/puzzles/120" />
<meta property="og:title"           content="Prisoner's Hat (multicolor) | medium puzzles | Brainstellar - Puzzles from Quant Interviews" />
<meta property="og:image"           content="http://brainstellar.com/img/facebook.png" />

<meta property="og:site_name" content="Brainstellar - Puzzles from Quant Interviews" />
<meta property="og:description" content="100 prisoners are lined up and assigned a random hat These hats are available in 10 different unique and distinguishable colors. Each prisoner can see the hats in front of him but not behind. Starting with the prisoner in the back of the line and moving forward, they must each, in turn, say only one word which must be the color like &quot;red&quot; or &quot;blue&quot; or &quot;green&quot; etc. If the word matches their hat color they are released, if not, they are killed on the spot. They can hear each others answers, no matter how far they are on the line. What strategy should be used to help release maximum number of prisoners?" />
<meta name="description" content="Brainstellar - Puzzles From Quant interview: 100 prisoners are lined up and assigned a random hat These hats are available in 10 different unique and distinguishable colors. Each prisoner can see the hats in front of him but not behind. Starting with the prisoner in the back of the line and moving forward, they must each, in turn, say only one word which must be the color like &quot;red&quot; or &quot;blue&quot; or &quot;green&quot; etc. If the word matches their hat color they are released, if not, they are killed on the spot. They can hear each others answers, no matter how far they are on the line. What strategy should be used to help release maximum number of prisoners?Easy Puzzles, MEdium Puzzles, Hard Puzzles, Discrete maths, Probability Puzzles, Quant Puzzles, CSE Puzzles, CSE Blog, Tech interview, vseth iitk" />

<!--meta name="copyright" content="&copy; Varun Seth" -->
<meta name="dcterms.rightsHolder" content="Varun Seth" />

<meta name="Author" content="Varun Seth" />





 <title>Prisoner's Hat (multicolor) | medium puzzles | Brainstellar - Puzzles from Quant Interviews</title>




</head>

<body ><div id="wrapper">



<div class="nav" tabindex="-1" onclick="this.focus()" >
    <div class="container-nav" >

<!--img src="favicon.gif" alt="BrainStellar" align="center"   -->



        <a href="/puzzles/" class="nav-links pagename" ><img src="/favicon.gif" style="border:0px solid white; padding:0px; margin-right:10px; border-radius:7px;height:35px;	" alt="BrainStellar"/> <img src="/img/cover_Transparent.png" alt="BRAINSTELLAR" style="position:relative;top:-7px;"></a>


        <a href="/puzzles/discrete/1" class="nav-links" >Discrete</a>
		   <a href="/puzzles/probability/1" class="nav-links">Probability</a>
		 <a href="/puzzles/strategy/1" class="nav-links">Strategy</a>
		 <a href="/puzzles/general/1" class="nav-links" >Tricks</a>
  </div>
</div>
<button class="btn-close btn btn-sm">Ã—</button>

<div class="container-outer"  style="padding:0px;" >


  <div class="row" style="padding:0px; margin:0px; "   >
   		<div class="col c9" style="margin:0px;padding:0px; ">

 


	<div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; ">  <div style="text-align: center"> <br/><h2   style="text-align: center">  Medium puzzles </h2> <br/> </div> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-medium smooth" style="	" href="/puzzles/medium" title="More medium puzzles"> Medium  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/120" title="Permanent link to this post"> Prisoner's Hat (multicolor)</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white strategy smooth" style="" href="/puzzles/strategy" title="More strategy puzzles"> Strategy  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  100 prisoners are lined up and assigned a random hat These hats are available in 10 different unique and distinguishable colors. Each prisoner can see the hats in front of him but not behind. Starting with the prisoner in the back of the line and moving forward, they must each, in turn, say only one word which must be the color like &quot;red&quot; or &quot;blue&quot; or &quot;green&quot; etc. If the word matches their hat color they are released, if not, they are killed on the spot. They can hear each others answers, no matter how far they are on the line. What strategy should be used to help release maximum number of prisoners? </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint120', this) " > Hint</a><div   id="hint120" class="hidden"><div class="around">Try prisoner's Hat puzzle first</div> </div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution120', 'likehider120',this) " > Solution</a>
<br/>

		<div   id="solution120" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  Call the first person in back of row the 100th prisoner. The 10 colours will be given codes from 0 to 9. The 100th prisoner will sum the numbers associated with the 99 colours he sees and will say the colour corresponding to it modulo 10. This is enough for 99th person. All he needs to do now is connect the dots, sum the number of hats he can see, calculate modulo 10, and compare it with what 100th prisoner said. This way all 99 prisoners will be saved, and 100th prisoner dies with probability 9/10.<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider120" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/medium/120--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-medium smooth" style="	" href="/puzzles/medium" title="More medium puzzles"> Medium  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/121" title="Permanent link to this post"> Rainbow Hats</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white strategy smooth" style="" href="/puzzles/strategy" title="More strategy puzzles"> Strategy  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  N people team up and decide on a strategy for playing this game. Then they walk into a room.  On entry to the room, each person is given a hat on which one of the first N natural numbers is written. There may be duplicate hat numbers. For example, for N=3, the 3 team members may get hats labeled 2, 0, 2.  Each person can see the numbers written on the others' hats, but does not know the number written on his own hat. Every person then simultaneously guesses the number of his own hat.  What strategy can the team follow to make sure that at least one person on the team guesses his hat number correctly? </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint121', this) " > Hint</a><div   id="hint121" class="hidden"><div class="around">Modulo?</div> </div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution121', 'likehider121',this) " > Solution</a>
<br/>

		<div   id="solution121" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  Let the persons be numbered 0 to N-1. The i-th person should announce 1 + (i-s)mod N, where s is the sum of numbers he sees. With this strategy, if the sum of all N numbers equals 1 + (m mod N), then the m-th gnome is guaranteed to announce the number of his own hat!<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider121" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><div style="float:left;" class="darkonfocus"  >Source: lieno<br/> </div><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/medium/120--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-medium smooth" style="	" href="/puzzles/medium" title="More medium puzzles"> Medium  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/122" title="Permanent link to this post"> 2 Equations &amp; 3 Unknowns </a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white general smooth" style="" href="/puzzles/general" title="More general puzzles"> General  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  I guessed 3 natural numbers - x,y,z. You can ask me 2 sums of these numbers with any integer coefficients - (a,b,c). That is, you give me a, b and c and I tell you the result of the expression a*x+b*y+c*z. Seeing the answer, you then give me the 2nd triplet of (a,b,c) &amp; I will tell a*x+b*y+c*z. Give me the algorithm to find x,y and z. </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint122', this) " > Hint</a><div   id="hint122" class="hidden"><div class="around">If digits are small, we can solve any number of variables by asking a=1, b=10^100, c=10^200 etc just by reading these numbers between the zeros of result.</div> </div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution122', 'likehider122',this) " > Solution</a>
<br/>

		<div   id="solution122" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  Since they are natural numbers, if you knew the maximum number of digits any of them can have, say d, you could set a=1, b=10^d, c=10^2d, and you would be able to read the d-digit numbers directly. So, you use the first calculation to find the maximum number of digits, (a,b,c)=(1,1,1).  let d = digits of this result (x+y+z)<br />
Then, set (a,b,c) = (1, 10^d, 10^2d) Let the sum be S.<br />
Then x = (first d digits of S), y = [d+1] to 2d-digits of S, z = [2d+1 to 3d] digits of S<br />
<br />
Thus, we note that its posssible to solve for n natural numbers x_1,x_2,...x_n with just 2 questions.<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider122" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><div style="float:left;" class="darkonfocus"  >Source: Quantnet Forums<br/> </div><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/medium/120--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-medium smooth" style="	" href="/puzzles/medium" title="More medium puzzles"> Medium  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/123" title="Permanent link to this post"> Domino Covering</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white discrete smooth" style="" href="/puzzles/discrete" title="More discrete puzzles"> Discrete Maths  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  An 8x8 chessboard can be entirely covered by 32 dominoes of size 2x1. Suppose we cut off two opposite corners of chess (i.e. two white blocks or two black blocks). Prove that now it is impossible to cover the remaining chessboard with 31 dominoes. </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint123', this) " > Hint</a><div   id="hint123" class="hidden"><div class="around">The two diagonally opposite corners are of the same color.</div> </div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution123', 'likehider123',this) " > Solution</a>
<br/>

		<div   id="solution123" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  The two diagonally opposite corners are of the same color. A domino covers adjacent faces &amp; hence a domino always covers 1 black and 1 white square. The 31 dominoes will cover 31 blacks and 31 whites. The chess has 30 &amp; 32 square instead. Hence this can't be done.<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider123" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><div style="float:left;" class="darkonfocus"  >Source: Martin Gardner<br/> </div><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/medium/120--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-medium smooth" style="	" href="/puzzles/medium" title="More medium puzzles"> Medium  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/124" title="Permanent link to this post"> Fruit Magic</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white discrete smooth" style="" href="/puzzles/discrete" title="More discrete puzzles"> Discrete Maths  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  13 Apples, 15 Bananas and 17 Cherries are put in the magic hat. When ever a collision of two different fruits occurs, they both get converted into the third type. For example 1 Apple and 1 Banana can collide to form 2 cherries. No other collision is holy. Can a sequence of such magical collisions lead all 45 fruits to give just one type? </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint124', this) " > Hint</a><div   id="hint124" class="hidden"><div class="around">This can't be done. Try to create a function of A,B,C which remains constant during a collision to get contradiction.</div> </div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution124', 'likehider124',this) " > Solution</a>
<br/>

		<div   id="solution124" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  Create the invariant function f(A,B,C) = (0A+1B+2C)mod3, this function remains constant during a collision. But f(13,15,17) = 1 is not same as any of final states f(45,0,0)=f(0,45,0)=f(0,0,45)=0. Hence this can not be done.<br />
<br />
A refreshment to this old trick was given by Aritro Pathak:<br />
call the no of times apples are increased by 2 as A, bananas increased by 2 as B, and cherries increased by 2 as C. if we need 45 apples,total increments - decrements of apple = 32<br />
but increments of apple = 2*A;<br />
when ever 2 banana's are created, 1 Apple is lost, similarly for 2 cherries<br />
decrements = B+C<br />
<br />
thus we have 2A-B-C=32, -2B+C+A=15, -2C+B+A=17. Subtract the last two to get 2=3*(B-C) which is impossible. similar cases for when you want 45 of either cherries or bananas.<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider124" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/medium/120--></div > <div class="container"><a  style="float:left;" class="btn  btn-sm link-medium smooth" href="/puzzles/medium/115" title="Innocent Monkey "> Previous Puzzle  </a>      <a  style="float:right;" class="btn  btn-sm btn-medium smooth"   href="/puzzles/medium/125" title="Catching Ants ">  <div class="arrow-right">  Next Page</div>
  </a>     <br/><br/> </div> <br/><br/> </div></div></div> 






	</div> <!-- finish col c9 -->
   		<div class="col c3" style="margin:0px;padding:0px; ">









		<div class="stylishpage" style=""  >
		<div class="bord1" style="margin:0px; padding:0px;">
		<div class="bord2" style="margin:0px; padding:0px;">
	<div class="container" style="text-align: center"> <!--style="background:white; border:1px solid #ccc; border-radius:7px"-->
<br/> <div style="padding:10px;margin-bottom:10px; border:1px solid #ccc"> Latest solved Puzzles </div> <a   class="btn  btn-sm link-hard smooth" style="font-size:1em" href="/puzzles/1020" title="hard puzzle "> Color Switches  </a>      <a   class="btn  btn-sm link-medium smooth" style="font-size:1em" href="/puzzles/1019" title="medium puzzle "> Weird Sequences  </a>      <a   class="btn  btn-sm link-hard smooth" style="font-size:1em" href="/puzzles/1018" title="hard puzzle "> Intersecting Pillars  </a>      <a   class="btn  btn-sm link-hard smooth" style="font-size:1em" href="/puzzles/1017" title="hard puzzle "> Consecutive sums  </a>      <a   class="btn  btn-sm link-medium smooth" style="font-size:1em" href="/puzzles/1016" title="medium puzzle "> Scaling a Square  </a>     <br/> <br/> <div style="padding:10px;margin-bottom:10px;border:1px solid #ccc"> Difficulty Level</div>
</div>
	<div style="padding:0px;margin:0px; text-align:center;border:0px">
		<a href="/puzzles/easy" class="btn  btn-sm link-easy" >Easy</a>
		<a href="/puzzles/medium" class="btn btn-sm  link-medium">Medium</a>
		<a href="/puzzles/hard" class="btn btn-sm  link-hard">Hard</a>
	</div>

	<div class="container" style="text-align: center">
	<br/>
	</div>
	</div></div></div> <!--3-->





</div></div>



</div>



<br/><br/>



<div style="width:100%;position:absolute;bottom:0px;">
<div class="container-outer" >

				<div class="stylishpage" style="margin:0px; padding:0px;" >
		<div class="bord1" style="margin:0px; padding:0px;">
		<div class="bord2" style="margin:0px; padding:0px;">

		<table style="width:100%;text-align:center;margin:0px; padding:0px;" class="darkonfocus">
		<tr>
		<td > &copy; BRAINSTELLAR
		</td>
		</tr>
		</table>

			</div></div></div> <!--3-->
</div></div>

</div><!--thin wrapper-->

 

</body> </html>
