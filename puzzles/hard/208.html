<!DOCTYPE html>
<!--page Coded by Varun Seth, downloaded from: http://brainstellar.com/puzzles/hard/208 -->
<html >
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">



<LINK href="/sizeless.css" rel="stylesheet" type="text/css">

<link rel="icon"
      type="image/gif"
      href="/favicon.gif" >

<link href="/favicon.gif"
	rel="shortcut icon"
	type="image/gif" >
<script type="text/javascript">
  function unhide(divID, pushID) {
    var item = document.getElementById(divID);
    if (item) {
      item.className=(item.className=='hidden')?'unhidden':'hidden';
    }
      pushID.className=(pushID.className=='push')?'pushed':'push';
  }


  function unhideandfb(divID, divFB ,pushID){

      var item = document.getElementById(divID);
    if (item) {
      item.className=(item.className=='hidden')?'unhidden':'hidden';
    }
      pushID.className=(pushID.className=='push')?'pushed':'push';
  document.getElementById( divFB).style.zIndex=-document.getElementById(divFB ).style.zIndex ;
  }


   function replaceContentInContainer( frameObj, matchClass, content) {
    var elems = frameObj.contentWindow.document.getElementsByTagName('*'), i;
	alert('asd');
    for (i in elems) {
        if((' ' + elems[i].className + ' ').indexOf(' ' + matchClass + ' ')
                > -1) {
            elems[i].innerHTML = content;
        }
    }
}



    function play2() {

	var iframes = document.getElementsByTagName('iframe');

	for(i=0; i< iframes.length; i++)
	{
      iframes[i].style.width = "300px";
	  iframes[i].style.background = "red";
	  }
	  i=iframes.length-1;
	  var foo = iframes[i].document.getElmentById('feedback_1eD3wVinaW8BFJjqN');
	  alert('hi');
    replaceContentInContainer( iframes[i], "fbFooterBorder" ,"hello");

    }


function play1(){

 document.getElementById("likehider").style.zIndex="-1";

}



  function disablefbwidget() { //cookie made for 1 year to disablefacebook
 var d = new Date();
    d.setTime(d.getTime() + (365*24*60*60*1000));
    document.cookie = "fbwidget=false; expires=" + d.toGMTString();
//	alert(getCookie("fbwidget"));
	location.reload();
  }
   function enablefbwidget() { //cookie deleted
   var d = new Date();
    d.setTime(d.getTime() + (365*24*60*60*1000));
	document.cookie = "fbwidget=true; expires=" + d.toGMTString();//fbwidget=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
	location.reload();
  }
</script>
 <meta property="fb:app_id" content="685807501512723"/>
<meta property="og:type"            content="website" />
<meta property="og:url"             content="http://brainstellar.com/puzzles/208" />
<meta property="og:title"           content="Distinct Number Draws | hard puzzles | Brainstellar - Puzzles from Quant Interviews" />
<meta property="og:image"           content="http://brainstellar.com/img/facebook.png" />

<meta property="og:site_name" content="Brainstellar - Puzzles from Quant Interviews" />
<meta property="og:description" content="Given the set of numbers from 1 to n: { 1, 2, 3 .. n } We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw? 
" />
<meta name="description" content="Brainstellar - Puzzles From Quant interview: Given the set of numbers from 1 to n: { 1, 2, 3 .. n } We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw? 
Easy Puzzles, MEdium Puzzles, Hard Puzzles, Discrete maths, Probability Puzzles, Quant Puzzles, CSE Puzzles, CSE Blog, Tech interview, vseth iitk" />

<!--meta name="copyright" content="&copy; Varun Seth" -->
<meta name="dcterms.rightsHolder" content="Varun Seth" />

<meta name="Author" content="Varun Seth" />





 <title>Distinct Number Draws | hard puzzles | Brainstellar - Puzzles from Quant Interviews</title>




</head>

<body ><div id="wrapper">



<div class="nav" tabindex="-1" onclick="this.focus()" >
    <div class="container-nav" >

<!--img src="favicon.gif" alt="BrainStellar" align="center"   -->



        <a href="/puzzles/" class="nav-links pagename" ><img src="/favicon.gif" style="border:0px solid white; padding:0px; margin-right:10px; border-radius:7px;height:35px;	" alt="BrainStellar"/> <img src="/img/cover_Transparent.png" alt="BRAINSTELLAR" style="position:relative;top:-7px;"></a>


        <a href="/puzzles/discrete/1" class="nav-links" >Discrete</a>
		   <a href="/puzzles/probability/1" class="nav-links">Probability</a>
		 <a href="/puzzles/strategy/1" class="nav-links">Strategy</a>
		 <a href="/puzzles/general/1" class="nav-links" >Tricks</a>
  </div>
</div>
<button class="btn-close btn btn-sm">Ã—</button>

<div class="container-outer"  style="padding:0px;" >


  <div class="row" style="padding:0px; margin:0px; "   >
   		<div class="col c9" style="margin:0px;padding:0px; ">

 


	<div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; ">  <div style="text-align: center"> <br/><h2   style="text-align: center">  Hard puzzles </h2> <br/> </div> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-hard smooth" style="	" href="/puzzles/hard" title="More hard puzzles"> Hard  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/208" title="Permanent link to this post"> Distinct Number Draws</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white probability smooth" style="" href="/puzzles/probability" title="More probability puzzles"> Probability  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  Given the set of numbers from 1 to n: { 1, 2, 3 .. n } We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw? <br />
 </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint208', this) " > Hint</a><div   id="hint208" class="hidden"><div class="around">Linearity of expectation</div> </div> <br/> <a class="push" href="javascript:void(0)" onclick="unhide('answer208',this) " > Answer</a><div   id="answer208" class="hidden"><div class="around">E(n) = n[1-(1-1/n)^n]<br />
 </div></div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution208', 'likehider208',this) " > Solution</a>
<br/>

		<div   id="solution208" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  Notice that number of distinct points in the produced set is same as number of distinct points selected from the given set {1..n} . For that we denote indicator function Si, that is, Si = 1 if the interger i is taken into produced set. <br />
<br />
Let S denote the number of distinct points selected, S = S1+..+Sn<br />
E(S) = E(S1) +...+ E(Sn)<br />
and E(Si) = 1*P(Si) = 1 - (Probability that 'i' is not chosen in any draw)<br />
<br />
= 1 - ( Prob that is i is not chosen in one 1st draw)^n = 1 - (  1 - 1/n )^n<br />
<br />
Thus E(S) = n * ( 1 - ( (n-1) / n)^n )<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider208" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><div style="float:left;" class="darkonfocus"  >Source: CSEblog<br/> </div><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/hard/208--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-hard smooth" style="	" href="/puzzles/hard" title="More hard puzzles"> Hard  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/209" title="Permanent link to this post"> Greed for an ACE</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white probability smooth" style="" href="/puzzles/probability" title="More probability puzzles"> Probability  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  What is the expected number of cards that need to be turned over in a regular 52-card deck in order to see the first ace? </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint209', this) " > Hint</a><div   id="hint209" class="hidden"><div class="around">Hint: the locations of the four aces in the deck divide it into the five groups X1, ...,X5.</div> </div> <br/> <a class="push" href="javascript:void(0)" onclick="unhide('answer209',this) " > Answer</a><div   id="answer209" class="hidden"><div class="around">53/5 </div></div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution209', 'likehider209',this) " > Solution</a>
<br/>

		<div   id="solution209" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  Define X1,X2&hellip;X48, such that Xi = 1 if ith card turns over before 4 aces, 0 otherwise. Thus, total number of cards turned to see first ace = 1 + sum (Xi)<br />
using linearity of expectation, E(X) = 1 + sum ( E(Xi))<br />
Now consider the ith card and the four aces, all the orders are equally likely: X,A,A,A,A Or A,X,A,A,A, or 3 others. They are equally likely when we have no knowledge about position of these Aces with respect of the deck. Hence we have 5 equally likely slots for ith card: 1 A 2 A 3 A 4 A 5. We are interested in 1st slot.<br />
Hence E(Xi) = 1/5 for all i = 1 to 48<br />
Thus E(X) = 1 + 48/5 = 53/5 = 10.6<br />
 <br />
This can be done by recursive equation  f(n) = (4/n)*1 + ((n-4)/n)*(1+f(n-1), where f(n)=expected cards to flip in a deck of n cards, but I definitely can't solve this without a computer.<br />
<br />
A shorter explanation is to consider the 52 cards uniformly distributed over (0,1), so on average they're at k/53 for k=1,2,3,&hellip;,52. The four aces are on average at 1/5, 2/5, 3/5, 4/5. So 0.2=k/53 implies k=10.6, done!<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider209" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/hard/208--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-hard smooth" style="	" href="/puzzles/hard" title="More hard puzzles"> Hard  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/210" title="Permanent link to this post"> Random point on disk</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white probability smooth" style="" href="/puzzles/probability" title="More probability puzzles"> Probability  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  x &amp; y are two random points selected uniformly between 0 &amp; 1. Using them, create a point uniformly random in circle of radius 1. (uniform means that the probability density is constant) </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint210', this) " > Hint</a><div   id="hint210" class="hidden"><div class="around">Suppose x &amp; y are outcomes of blackbox. [ x*cos(2 pi y) , x* cos(2 pi y) ] is not a uniform point on disc. Neither is the point (x,y)/sqrt(x^2+y^2) uniform.</div> </div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution210', 'likehider210',this) " > Solution</a>
<br/>

		<div   id="solution210" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >   theta = 2pi*x and r = squareroot(y). the take the point as (r*cos(theta),r*sin(theta))<br />
Explanation:<br />
The idea is that the probability of a point to be between r and r+dr is 2pi*r*dr. Hence to choose a radius we need to generate a number from random number generator which follows probability distribution 2*r.To generate random number which follows above probability distribution which follows uniform distribution we simply take the square root of the number generated by uniform distribution.<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider210" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><div style="float:left;" class="darkonfocus"  >Source: Quant Interview<br/> </div><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/hard/208--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-hard smooth" style="	" href="/puzzles/hard" title="More hard puzzles"> Hard  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/211" title="Permanent link to this post"> Enclosing The Center</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white probability smooth" style="" href="/puzzles/probability" title="More probability puzzles"> Probability  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  N points are chosen at random on the cicumference of a circle. A convex n-gon (n sided polygon) is drawn by joining these n points. What is the probability that the center of circle lies inside the region of n-gon? </div><br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution211', 'likehider211',this) " > Solution</a>
<br/>

		<div   id="solution211" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >   <br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider211" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><div style="float:left;" class="darkonfocus"  >Source: a nice senior<br/> </div><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/hard/208--></div > 	</div></div></div> <div class="stylishpage" >
		<div class="bord1" style="margin:0px; padding:0px; ">
		<div class="bord2" style="margin:0px; padding:0px; "> <div class="container" >  <br/> <br />
<table style="border:0px solid black; width:100%;padding:0px;margin:0px;">
	 <tr  style="padding:0px;margin:0px;">
    <td  style="padding:0px;margin:0px;border:0px solid black;width:20%;text" > <a class="btn  btn-sm btn-hard smooth" style="	" href="/puzzles/hard" title="More hard puzzles"> Hard  </a>
		  </td>


 <td   style="padding:0px;margin:0px;" > 	<div  class="content-text"  style="padding:0px;margin:0px;text-align: center; font-size:1.3em;"> <a href="https://brainstellar.com/puzzles/213" title="Permanent link to this post"> Sum To One</a></div>
</td>

	<td  style="padding:0px;margin:0px;border:0px solid black; width:20%; max-width:80px;text-align:right">

<a class="btn  btn-sm link-white probability smooth" style="" href="/puzzles/probability" title="More probability puzzles"> Probability  </a>


</td>
  </tr>
</table><br /> <div  class="content-text">  On pressing a button, a random number is generated uniformly between 0 &amp; 1. You keep on generating these numbers until their sum exceeds 1. What is the probability that you need to press the button more than n times? What is the expected number of times you need to press the button? </div><br/> <a class="push" href="javascript:void(0)" onclick="unhide('hint213', this) " > Hint</a><div   id="hint213" class="hidden"><div class="around">Probability by conditioning</div> </div> <br/> <a class="push" href="javascript:void(0)" onclick="unhide('answer213',this) " > Answer</a><div   id="answer213" class="hidden"><div class="around">Probability: 1/n! ; Expected times:  e </div></div> <br/>


		<a   class="push"  href="javascript:void(0)" onclick="unhideandfb('solution213', 'likehider213',this) " > Solution</a>
<br/>

		<div   id="solution213" class="hidden"> <div class="around" style="padding-top:1em;padding-bottom:1.5em;display:block;" >  Probability of more than n throws is equivalent to saying X1+..+Xn &lt;=1, this is the volume of n dimensional symplex from origin, its volume is 1/n! and can be proved by induction. This can be used to calculate expected number of button presses, sum( 1/n! * n ) = sum( 1/(n-1)!) = e^1<br />
<br />
Otherwise, set up a (lag)differential equation for f(x), the expected number of draws needed for the sum to exceed x. For x=0,f(x)=1. For x&gt;0, suppose a draw gave number t, then f(x)= 1 + integral (t=0 to x)f(x-t)dt, which is same as f(x) = 1 + integral(t=0 to x) f(t)dt, differentiate wrt x, we get f'(x) = 0 + f'(x). This has the solution f(x)=e^x and x=1 gives e.<br />
To take derivative, we used  leibniz integral rule:<br />
d/dx  ( integral( a(x) to b(x) ) f(t) dt = f(b(x))*b'(x) - f(a(x))*a'(x) = f(x)*1 - f(x)*0 = f(x)<br />
<br />
<br/> <br/> <br/>  <br/> </div>

	  </div>	 <div  id="likehider213" style="z-index:-10;margin-left:auto;margin-right:auto ;   position:relative;top:-45px;" class="container-outer fbLikeContainer"><a  href="" style="font-size:0.7em; color:#9197a3;float:right;" onclick="enablefbwidget();" title="Click here to enable facebook comment and like box, to easily share your views and ask for help." >Enable Like and Comment</a> </div> <!--Comments not available for http://brainstellar.com/puzzles/hard/208--></div > <div class="container"><a  style="float:left;" class="btn  btn-sm link-hard smooth" href="/puzzles/hard/203" title="Distance from North Pole "> Previous Puzzle  </a>      <a  style="float:right;" class="btn  btn-sm btn-hard smooth"   href="/puzzles/hard/215" title="Random Walk ">  <div class="arrow-right">  Next Page</div>
  </a>     <br/><br/> </div> <br/><br/> </div></div></div> 






	</div> <!-- finish col c9 -->
   		<div class="col c3" style="margin:0px;padding:0px; ">









		<div class="stylishpage" style=""  >
		<div class="bord1" style="margin:0px; padding:0px;">
		<div class="bord2" style="margin:0px; padding:0px;">
	<div class="container" style="text-align: center"> <!--style="background:white; border:1px solid #ccc; border-radius:7px"-->
<br/> <div style="padding:10px;margin-bottom:10px; border:1px solid #ccc"> Latest solved Puzzles </div> <a   class="btn  btn-sm link-hard smooth" style="font-size:1em" href="/puzzles/1020" title="hard puzzle "> Color Switches  </a>      <a   class="btn  btn-sm link-medium smooth" style="font-size:1em" href="/puzzles/1019" title="medium puzzle "> Weird Sequences  </a>      <a   class="btn  btn-sm link-hard smooth" style="font-size:1em" href="/puzzles/1018" title="hard puzzle "> Intersecting Pillars  </a>      <a   class="btn  btn-sm link-hard smooth" style="font-size:1em" href="/puzzles/1017" title="hard puzzle "> Consecutive sums  </a>      <a   class="btn  btn-sm link-medium smooth" style="font-size:1em" href="/puzzles/1016" title="medium puzzle "> Scaling a Square  </a>     <br/> <br/> <div style="padding:10px;margin-bottom:10px;border:1px solid #ccc"> Difficulty Level</div>
</div>
	<div style="padding:0px;margin:0px; text-align:center;border:0px">
		<a href="/puzzles/easy" class="btn  btn-sm link-easy" >Easy</a>
		<a href="/puzzles/medium" class="btn btn-sm  link-medium">Medium</a>
		<a href="/puzzles/hard" class="btn btn-sm  link-hard">Hard</a>
	</div>

	<div class="container" style="text-align: center">
	<br/>
	</div>
	</div></div></div> <!--3-->





</div></div>



</div>



<br/><br/>



<div style="width:100%;position:absolute;bottom:0px;">
<div class="container-outer" >

				<div class="stylishpage" style="margin:0px; padding:0px;" >
		<div class="bord1" style="margin:0px; padding:0px;">
		<div class="bord2" style="margin:0px; padding:0px;">

		<table style="width:100%;text-align:center;margin:0px; padding:0px;" class="darkonfocus">
		<tr>
		<td > &copy; BRAINSTELLAR
		</td>
		</tr>
		</table>

			</div></div></div> <!--3-->
</div></div>

</div><!--thin wrapper-->

 

</body> </html>
