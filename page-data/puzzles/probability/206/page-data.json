{"componentChunkName":"component---src-templates-puzzle-js","path":"/puzzles/probability/206","result":{"data":{"puzzlesYaml":{"puzzleId":206,"difficulty":"hard","category":"probability","title":"Collecting Lucky coupons","question":"A soda company is holding a contest where everyone who collects one each of N different coupons wins some prize. You get a coupon with each purchase of a soda, and each coupon is equally likely. Whatâ€™s the expected number of soda bottles you have to buy in order to collect all the coupons?","questionImage":null,"hint":"Linearity of expectation","answer":null,"solution":"Divide the whole process in to stages. Each stage ends with collecting a coupon which is new ( different from the coupons we already have )\n\nLet C_i be the random variable which denotes the number of coupons we buy in the stage i.\n\nLet C be the random variable which denotes the number of coupons we buy in order to get all n coupons\nNow,\nC= C_1 + C_2 + ... + C_n\nNote C_1 = 1;\nIn general, while we are during stage i , we already have with us (i-1) different coupons. So, the probability of getting a new coupon is p_i = n-(i-1)/n. Also note that each C_i is a Geometrically distributed random variable with success probability equal to p_i. So, E(C_i) = 1/p_i = n/(n-i+1).\nBy using Linearity of Expectations,\nE(C) = E(C_1) +E(C_2) + ...+E(C_n)\n= n(1/n + 1/(n-1)+ ... +1)\n~ nlogn.","solutionImage":null}},"pageContext":{"puzzleId":206,"previousPuzzleRoute":"/puzzles/probability/205","nextPuzzleRoute":"/puzzles/probability/207","category":"probability"}},"staticQueryHashes":["3649515864"],"slicesMap":{}}